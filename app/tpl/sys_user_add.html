<div class="content-body animated fadeInUp" ng-controller="SysUserAddCtrl">
  <div class="wrapper-sm p-l-sm p-r-sm p-b-n">
    <ol class="breadcrumb row text-xs m-b-xs">
      <span><i class="fa fa-circle-o p-r-xs"></i>当前位置：</span>
      <li>系统管理</li>
      <li><a ui-sref="app.sys.user">用户管理</a></li>
      <li>用户添加</li>
    </ol>
  </div>
  <div class="panel panel-default wrapper-md">
    <div class="panel-heading">
      <h1 class="h3">用户添加</h1>
    </div>
    <div class="panel-body">
      <form class="form-horizontal" name="form" ng-submit="submit()" method="post">

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group"
             ng-class="{'has-error':form.username.$invalid && form.username.$touched||form.username.$error.remoteCheckReject}">
          <label class="col-sm-2 control-label">用户名</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input name="username" remote-check="sys/auths" ng-minlength="2" ng-maxlength="32" required
                     type="text" class="form-control" ng-model="user.username">
              <span ng-show="form.username.$pending.remoteCheckReject">正在加载中...</span>
              <span class="error" ng-show="form.username.$error.remoteCheckReject">已经被占用</span>
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">类型</label>
          <div class="col-sm-10">
            <p class="form-control-static">

              <ui-select ng-model="types" multiple on-select="typeSel($item,$model)" close-on-select="false">
                <ui-select-match placeholder="请输入用户类型(角色名称)">{{$item.name}}</ui-select-match>
                <ui-select-choices refresh="roleLoad($select.search)" refresh-delay="500" repeat="item in tps | filter: $select.search">
                  <span ng-bind="item.name"></span>
                </ui-select-choices>
              </ui-select>

            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">所属部门</label>
          <div class="col-sm-10">
            <p class="form-control-static">

              <ui-select ng-model="dep">
                <ui-select-match placeholder="请输入部门名称">{{$select.selected.name}}</ui-select-match>
                <ui-select-choices refresh="depLoad($select.search)" refresh-delay="500" repeat="item in deps | filter: $select.search">
                  <span ng-bind="item.name"></span>
                </ui-select-choices>
              </ui-select>

            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">登录密码</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input name="password" type="text" class="form-control" ng-model="user.password">
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">确认密码</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input name="repassword" ng-model="repassword" compare="user.password" type="text" class="form-control">
              <span class="error" ng-show="form.repassword.$error.compare && form.repassword.$viewValue">两次输入不一致</span>
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">真实姓名</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input type="text" class="form-control" ng-model="user.realName">
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">手机</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input type="text" class="form-control" ng-model="user.realName">
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">E-mail</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input type="text" class="form-control" ng-model="user.realName">
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">电话</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input type="text" class="form-control" ng-model="user.realName">
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <label class="col-sm-2 control-label">QQ</label>
          <div class="col-sm-10">
            <p class="form-control-static">
              <input type="text" class="form-control" ng-model="user.realName">
            </p>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <div class="col-sm-4 col-sm-offset-2">
            <label class="checkbox-inline">
              <input type="checkbox" value="option1"> 启用
            </label>
          </div>
        </div>

        <div class="line line-dashed b-b line-lg pull-in"></div>

        <div class="form-group">
          <div class="col-sm-4 col-sm-offset-2">
            <a ui-sref="app.sys.user" class="btn btn-default">取消</a>
            <input type="submit" ng-disabled="form.$invalid || form.$submitted" class="m-l-xs btn btn-primary"
                   value="保存"/>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>